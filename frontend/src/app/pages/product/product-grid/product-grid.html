<h2 class="section-title">Produtos</h2>

<main>  
  <div class="filters">
    <app-filters (handleFilter)="handleFilter($event)"></app-filters>
  </div>
  
  <div class="container">
    @if (products().length) {
    <div class="grid">
      @for (p of products(); track p.id) {
        <div class="card">
          <img [ngSrc]="'http://localhost:8000'+p.image_url" [alt]="p.name" height="150" width="252" loading="lazy"/>
          <h3>{{p.name}}</h3>
          <p class="price">{{p.price | currency:'BRL'}}</p>
          <p>{{p.description}}</p>
        </div>
      }
    </div>

    <app-pagination 
      [showItemsPerPage]="false" 
      [currentPage]="currentPage()" 
      [totalItems]="totalItems()"
      [itemsPerPage]="itemsPerPage()"
      (handlePage)="onPageChange($event)"
    ></app-pagination>
   } @else if (!products().length) {
      <p>Infelizmente nenhum produto foi encontrado com esses filtros, tente novamente com outras informações.</p>
    }
  </div>
</main>